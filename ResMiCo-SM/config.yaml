# Input table
## Table of genomes
genomes_file: tests/data/genomes_n10.tsv
#genomes_file: tests/data/Samp3-MAG3.tsv
#genomes_file: tmp/ERS396506.tsv

# Output directory
output_dir: tests/output/n10/
#output_dir: tests/output/Samp3-MAG3/
#output_dir: tmp/ERS396506/

# Temporary output directory (/dev/shm/ for shared memory)
#tmp_dir: /tmp/
tmp_dir: /ebio/abt3_scratch/

# Email for notifications ("Skip" to skip)
email: nyoungblut@tuebingen.mpg.de

# software parameters for data simulations
## Use "Skip" to skip  steps. If no params for rule, use ""
## `reps:` is the number of replicate simulations
## If `keep_reads: True`, then simulated reads are kept
params:
  ionice: -c 3
  # simulating metagenomes
  MGSIM:
#    genome_download: ""
    sim_reps: 1
    community:
      richness:
        - 0.5
        - 0.8
      abundance_distribution:
        - "mean:10,sigma:1"
        - "mean:10,sigma:2"
      random_seed: 8192
      other_sim_params: --group-bias 0
    reads: 
      length:
        - 100
      depth:
        - 1000000
      other_sim_params: --art-paired --art-mflen 270 --art-sdev 50 --rndSeed 8712
                        --art-qprof1 data/art_error_profiles/HiSeq2500L150R1.txt
                        --art-qprof2 data/art_error_profiles/HiSeq2500L150R2.txt
      skewer: -n -l 70 -q 25 --format sanger
      keep_reads: False
  # coverage
  nonpareil:
    params: -T kmer
    summary: 1e9   # this is target seq. depth
  # assemblying metagenomes
  assemblers:
    metaspades: -k auto --only-assembler
    megahit: --min-count 1 --min-contig-len 1000
  # assembly filtering
  contigs:
    length_cutoff: 1000       # length in bp 
  # assessing assembly errors
  asmbl_errors:
    metaquast: --max-ref-number 0 --min-contig 1000 --min-identity 95 --extensive-mis-size 100
               --no-html --no-plots --no-icarus --no-gc --no-snps --no-sv
    keep_genomes: False
  # mapping reads to contigs
  map:
    samtools: ""
    bowtie2: ""
    max_coverage: 20
    keep_bam: True
    keep_faidx: True
    create_bigwig: False
  # creating ResMiCo feature tables
  feature_table:
    make: --window 6
  # state-of-the-art
  SotA:
    ALE: Skip # ""
    VALET: Skip # ""
    metaMIC:
      extract: Skip #--mlen 1000
      predict: --mlen 1000 --slen 500 -a MEGAHIT

# params just for creating feature tables for non-simulated data
nonsim_params:
  # max number of reads to use
  subsample_reads: Skip #1000000

# snakemake pipeline
pipeline:
  snakemake_folder: ./
  script_folder: ./bin/scripts/
  name: ResMiCo-SM